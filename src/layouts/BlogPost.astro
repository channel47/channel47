---
// src/layouts/BlogPost.astro
import BaseLayout from './BaseLayout.astro';
import ToolsMentioned from '../components/ToolsMentioned.astro';
import '../styles/components/blog-post.css';

interface Props {
  title: string;
  description: string;
  date: Date;
  tags?: string[];
  toolsUsed?: Array<{
    slug: string;
    source: 'channel47' | 'external';
    installCommand?: string;
  }>;
}

const { title, description, date, tags = [], toolsUsed } = Astro.props;

// Format date for display - uppercase month
const formattedDate = date.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
}).toUpperCase();
---

<BaseLayout title={title} description={description}>
  <article class="editorial-article">
    <!-- Hero Area -->
    <div class="article-hero">
      <time class="article-meta" datetime={date.toISOString()}>
        {formattedDate}
      </time>
      <h1 class="article-title">{title}</h1>
      <p class="article-lead">{description}</p>
    </div>

    <!-- Content -->
    <div class="article-content">
      <slot />
    </div>

    <!-- Tools Mentioned Section -->
    {toolsUsed && toolsUsed.length > 0 && (
      <section class="article-section">
        <ToolsMentioned tools={toolsUsed} />
      </section>
    )}

    <!-- Footer -->
    <footer class="article-footer">
      <a href="/blog">&larr; Back to blog</a>
    </footer>
  </article>
</BaseLayout>
