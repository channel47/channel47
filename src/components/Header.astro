---
// src/components/Header.astro
import '../styles/components/header.css';
import BlockLogo from './BlockLogo.astro';
---
<header class="header" id="main-header">
  <nav class="header__nav">
    <BlockLogo variant="short" size="small" href="/" />
    
    <div class="header__links">
      <a href="/plugins" class="header__link header__link--icon" aria-label="Tools">
        <span class="ascii-icon">
          <span class="ascii-line">▄▀▄</span>
          <span class="ascii-line">▀▄▀</span>
        </span>
        <span class="header__link-text">Tools</span>
      </a>
    </div>
  </nav>
</header>

<script>
  let lastScroll = 0;
  const header = document.getElementById('main-header');

  window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;

    if (currentScroll <= 0) {
      header?.classList.remove('header--hidden');
      return;
    }

    if (currentScroll > lastScroll && currentScroll > 100) {
      // Scrolling down
      header?.classList.add('header--hidden');
    } else {
      // Scrolling up
      header?.classList.remove('header--hidden');
    }

    lastScroll = currentScroll;
  });
</script>
