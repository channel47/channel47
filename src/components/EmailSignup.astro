---
// src/components/EmailSignup.astro
import '../styles/components/email-signup.css';

interface Props {
  title?: string;
  description?: string;
  source?: string;
  hideTitle?: boolean;
}

const {
  title = 'Get notified of new tools',
  description = 'Updates when I publish something new.',
  source = 'unknown',
  hideTitle = false
} = Astro.props;
---

<div class="email-signup">
  {!hideTitle && <h3 class="email-signup__title">{title}</h3>}
  <p class="email-signup__description">{description}</p>
  <form class="email-signup__form" method="POST" action="/api/subscribe">
    <input
      type="email"
      name="email"
      placeholder="your@email.com"
      required
      class="email-signup__input"
    />
    <input type="hidden" name="source" value={source} />
    <button type="submit" class="email-signup__button">
      Subscribe
    </button>
  </form>
</div>
